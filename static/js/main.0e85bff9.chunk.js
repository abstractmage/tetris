(this.webpackJsonptetris=this.webpackJsonptetris||[]).push([[0],{12:function(t,e,n){t.exports={main:"Cell_main__174gQ",main_color_empty:"Cell_main_color_empty__3tZOJ",innerSquare:"Cell_innerSquare__27-FJ",main_color_purple:"Cell_main_color_purple__MaL1A",outerSquare:"Cell_outerSquare__MFyeX",main_color_green:"Cell_main_color_green__TeaLT",main_color_red:"Cell_main_color_red__35FyK",main_color_yellow:"Cell_main_color_yellow__3Sq6b",main_color_lightBlue:"Cell_main_color_lightBlue__38Z9Q",main_color_orange:"Cell_main_color_orange__jDpdU",main_color_blue:"Cell_main_color_blue__-uZAr"}},13:function(t,e,n){t.exports={main:"Tetromino_main__M2Mlz",main_type_I:"Tetromino_main_type_I__2DM_n",cell:"Tetromino_cell__2wPmy",main_type_J:"Tetromino_main_type_J__V-85O",main_type_L:"Tetromino_main_type_L__2jK0_",main_type_O:"Tetromino_main_type_O__2buKK",main_type_S:"Tetromino_main_type_S__3BRyZ",main_type_T:"Tetromino_main_type_T__1LwSp",main_type_Z:"Tetromino_main_type_Z__37gK8",inner:"Tetromino_inner__G-oVb"}},19:function(t,e,n){t.exports={main:"BoxContainer_main__3zBDO",text:"BoxContainer_text__17ql7",boxContainer:"BoxContainer_boxContainer__3TAR1"}},23:function(t,e,n){t.exports={main:"Cell_main__2h-6X"}},24:function(t,e,n){t.exports={main:"Button_main__2i5Pp"}},25:function(t,e,n){t.exports={main:"Field_main__1mOG4"}},30:function(t,e,n){},34:function(t,e,n){"use strict";n.r(e);n(0);var i=n(15),r=n.n(i),o=n(17),s=n(5),c=(n(30),n(2)),a=function(t){var e=t.children;return Object(c.jsx)(c.Fragment,{children:e})},u=n(23),l=n.n(u),h=function(t){var e=t.children;return Object(c.jsx)("div",{className:l.a.main,children:e})},f=n(10),v=n(16),b=n.n(v),y={empty:"empty",purple:"purple",green:"green",red:"red",yellow:"yellow",lightBlue:"lightBlue",orange:"orange",blue:"blue"},d={color:y.empty},k=n(12),x=n.n(k),_=function(t){var e=Object(f.a)(Object(f.a)({},d),t).color;return Object(c.jsxs)("div",{className:b()(x.a.main,x.a["main_color_".concat(e)]),children:[Object(c.jsx)("div",{className:x.a.innerSquare}),Object(c.jsx)("div",{className:x.a.outerSquare})]})},p=Object(o.a)((function(t){var e=t.cell;return Object(c.jsx)(h,{children:Object(c.jsx)(_,{color:e.color})})})),m=n(19),g=n.n(m),j=function(t){var e=t.text,n=t.children;return Object(c.jsxs)("div",{className:g.a.main,children:[e&&Object(c.jsx)("div",{className:g.a.text,children:e}),Object(c.jsx)("div",{className:g.a.boxContainer,children:n})]})},O=n(24),P=n.n(O),w=function(t){var e=t.children,n=t.onClick;return Object(c.jsx)("div",{className:P.a.main,onClick:n,children:e})},C=n(25),R=n.n(C),B=function(t){var e=t.children;return Object(c.jsx)("div",{className:R.a.main,children:e})},L=n(6),D={I:"I",J:"J",L:"L",O:"O",S:"S",T:"T",Z:"Z"},T={type:D.I,color:y.lightBlue},N=n(13),M=n.n(N),I=function(t){var e=Object(f.a)(Object(f.a)({},T),t),n=e.type,i=e.color;return Object(c.jsx)("div",{className:b()(M.a.main,M.a["main_type_".concat(n)]),children:Object(c.jsx)("div",{className:M.a.inner,children:Object(L.range)(4).map((function(t){return Object(c.jsx)("div",{className:M.a.cell,children:Object(c.jsx)(_,{color:i})},t)}))})})},A=n(3),F=n(4),S=n(1),E="play",z="pause",G="resume",H=function(){function t(e){Object(A.a)(this,t),this._state=E,this.onClick=void 0,Object(S.l)(this,{},{autoBind:!0}),this.onClick=e.onClick}return Object(F.a)(t,[{key:"state",get:function(){return this._state}},{key:"setState",value:function(t){this._state=t}}]),t}(),K=function(){function t(){Object(A.a)(this,t),this._numberOfLines=0,this._scores=0,Object(S.l)(this,{},{autoBind:!0})}return Object(F.a)(t,[{key:"numberOfLines",get:function(){return this._numberOfLines}},{key:"scores",get:function(){return this._scores}},{key:"incrementLines",value:function(t){this._numberOfLines+=t,1===t&&(this._scores+=100),2===t&&(this._scores+=300),3===t&&(this._scores+=700),4===t&&(this._scores+=1500)}},{key:"clear",value:function(){this._numberOfLines=0,this._scores=0}}]),t}(),U=n(7),Z=function(){function t(e){Object(A.a)(this,t),this.bricks=void 0,this.size=void 0,Object(S.l)(this,{},{autoBind:!0}),this.bricks=[],this.size=e.size}return Object(F.a)(t,[{key:"startPoint",get:function(){var t=this.size.width/2;return{x:t===Math.ceil(t)?t:Math.floor(t),y:this.size.height}}},{key:"addBricks",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.bricks=[].concat(Object(U.a)(this.bricks),e)}},{key:"removeBricks",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.bricks=this.bricks.filter((function(t){return!e.includes(t)}))}},{key:"clear",value:function(){this.bricks=[]}},{key:"checkIfBrickAtPoint",value:function(t){return!!this.bricks.find((function(e){return e.point.x===t.x&&e.point.y===t.y}))}},{key:"getBrickByPoint",value:function(t){var e=this.bricks.find((function(e){return e.point.x===t.x&&e.point.y===t.y}))||null;if(!e)throw new Error("".concat(this.constructor.name,".getBrickByPoint: no such brick exists"));return e}},{key:"checkIfPointIsOutOfRange",value:function(t){return this.checkIfPointIsOutOfRangeLeft(t)||this.checkIfPointIsOutOfRangeRight(t)||this.checkIfPointIsOutOfRangeBottom(t)}},{key:"checkIfPointIsOutOfRangeLeft",value:function(t){return t.x<0}},{key:"checkIfPointIsOutOfRangeRight",value:function(t){return t.x>this.size.width-1}},{key:"checkIfPointIsOutOfRangeBottom",value:function(t){return t.y<0}}]),t}(),J=n(21),q=function(){function t(e){Object(A.a)(this,t),this.brickContext=void 0,this.bricks=void 0,this.brickContext=e.brickContext,this.bricks=e.bricks}return Object(F.a)(t,[{key:"isMovingDownPossible",value:function(){var t=this;return Object(L.range)(this.brickContext.size.width).map((function(e){return{x:e,y:t.bricks[0].point.y}})).every((function(e){return!t.brickContext.checkIfPointIsOutOfRange({x:e.x,y:e.y-1})&&!t.brickContext.checkIfBrickAtPoint({x:e.x,y:e.y-1})}))}},{key:"moveDown",value:function(){this.isMovingDownPossible()&&this.bricks.forEach((function(t){t.setPoint({x:t.point.x,y:t.point.y-1})}))}}]),t}(),W=function(){function t(e){Object(A.a)(this,t),this.bricks=void 0,this.brickContext=void 0,Object(S.l)(this,{},{autoBind:!0}),this.bricks=[],this.brickContext=e.brickContext}return Object(F.a)(t,[{key:"addBricks",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.bricks=[].concat(Object(U.a)(this.bricks),e)}},{key:"removeBricks",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.bricks=this.bricks.filter((function(t){return!e.includes(t)}))}},{key:"clear",value:function(){this.bricks=[]}},{key:"getFilledRows",value:function(){var t=this;if(!this.bricks.length)return[];for(var e=this.bricks.reduce((function(t,e){return t.point.y<e.point.y?e:t})),n=[],i=function(e){var i=t.bricks.filter((function(t){return t.point.y===e}));i.length===t.brickContext.size.width&&n.push(i)},r=0;r<=e.point.y;r++)i(r);return n}},{key:"moveToBottom",value:function(){var t=this;Object(L.values)(Object(L.groupBy)(this.bricks,"point.y")).sort((function(t,e){var n=Object(J.a)(t,1)[0],i=Object(J.a)(e,1)[0];return n.point.y-i.point.y})).map((function(t){return t.sort((function(t,e){return t.point.x-e.point.x}))})).map((function(e){return new q({brickContext:t.brickContext,bricks:e})})).forEach((function(t){for(;t.isMovingDownPossible();)t.moveDown()}))}}]),t}(),V=function(){function t(e){Object(A.a)(this,t),this._point=void 0,this._color=y.empty,Object(S.l)(this,{},{autoBind:!0}),this._point=e.point}return Object(F.a)(t,[{key:"point",get:function(){return this._point}},{key:"color",get:function(){return this._color}},{key:"changeColor",value:function(t){this._color=t}}]),t}(),Q=function(){function t(e){Object(A.a)(this,t),this._cells=void 0,this.size=void 0,Object(S.l)(this,{},{autoBind:!0}),this.size={width:e.width,height:e.height},this._cells=Object(L.range)(e.height).map((function(t){return Object(L.range)(e.width).map((function(e){return new V({point:{x:e,y:t}})}))})).flat()}return Object(F.a)(t,[{key:"cells",get:function(){return this._cells}},{key:"getCellByPoint",value:function(t){var e=this._cells.find((function(e){return e.point.x===t.x&&e.point.y===t.y}));if(!e)throw new Error("".concat(this.constructor.name,": invalid point value provided"));return e}},{key:"isFilled",value:function(){var t=this;return this.cells.filter((function(e){return e.point.y===t.size.height-1})).some((function(t){return t.color!==y.empty}))}}]),t}(),X=n(9),Y=n.n(X),$=n(14),tt=function(){function t(){var e=this;Object(A.a)(this,t),this._resolve=void 0,this._reject=void 0,this._promise=new Promise((function(t,n){e._resolve=t,e._reject=n}))}return Object(F.a)(t,[{key:"promise",get:function(){return this._promise}},{key:"resolve",value:function(t){this._resolve(t)}},{key:"reject",value:function(t){this._reject(t)}}]),t}(),et=function(){function t(){Object(A.a)(this,t),this.callback=null,this.duration=1e3,this.interval=null}return Object(F.a)(t,[{key:"setCallback",value:function(t){this.callback=t}},{key:"setDuration",value:function(t){this.duration=t}},{key:"start",value:function(){var t=this;this.interval=window.setInterval((function(){var e;return null===(e=t.callback)||void 0===e?void 0:e.call(t)}),this.duration)}},{key:"stop",value:function(){this.interval&&clearInterval(this.interval)}}]),t}(),nt=function(){function t(){Object(A.a)(this,t),this.onArrowLeftPress=null,this.onArrowRightPress=null,this.onArrowUpPress=null,this.onArrowDownPress=null,this.handleKeyPress=this.handleKeyPress.bind(this)}return Object(F.a)(t,[{key:"setListeners",value:function(t){this.onArrowLeftPress=t.onArrowLeftPress,this.onArrowRightPress=t.onArrowRightPress,this.onArrowUpPress=t.onArrowUpPress,this.onArrowDownPress=t.onArrowDownPress}},{key:"startListening",value:function(){this.stopListening(),document.addEventListener("keydown",this.handleKeyPress)}},{key:"stopListening",value:function(){document.removeEventListener("keydown",this.handleKeyPress)}},{key:"handleKeyPress",value:function(t){var e,n,i,r;"ArrowUp"===t.key&&(null===(e=this.onArrowUpPress)||void 0===e||e.call(this)),"ArrowDown"===t.key&&(null===(n=this.onArrowDownPress)||void 0===n||n.call(this)),"ArrowLeft"===t.key&&(null===(i=this.onArrowLeftPress)||void 0===i||i.call(this)),"ArrowRight"===t.key&&(null===(r=this.onArrowRightPress)||void 0===r||r.call(this))}}]),t}(),it=function(){function t(e){Object(A.a)(this,t),this.point=void 0,this.color=void 0,Object(S.l)(this,{},{autoBind:!0}),this.point=e.point,this.color=e.color}return Object(F.a)(t,[{key:"setPoint",value:function(t){this.point=t}}]),t}(),rt=function(){function t(e){var n,i=this;Object(A.a)(this,t),this.bricks=void 0,this.type=void 0,this.brickContext=void 0,this.pivotBrick=void 0,Object(S.l)(this,{},{autoBind:!0}),this.type=e.type,this.brickContext=e.brickContext,this.bricks=this.createPoints(this.brickContext.startPoint).map((function(t,n){var r=new it({point:t,color:e.color});return 0===n&&(i.pivotBrick=r),r})),(n=this.brickContext).addBricks.apply(n,Object(U.a)(this.bricks))}return Object(F.a)(t,[{key:"isMovingDownPossible",value:function(){var t=this.getMovingDownNextPoints();return this.isMovingToPointsPossible.apply(this,Object(U.a)(t))}},{key:"isMovingRightPossible",value:function(){var t=this.getMovingRightNextPoints();return this.isMovingToPointsPossible.apply(this,Object(U.a)(t))}},{key:"isMovingLeftPossible",value:function(){var t=this.getMovingLeftNextPoints();return this.isMovingToPointsPossible.apply(this,Object(U.a)(t))}},{key:"isRotatingRightPossible",value:function(){var t=this.getRotatingRightNextPoints();return this.isMovingToPointsPossible.apply(this,Object(U.a)(t))}},{key:"isRotatingLeftPossible",value:function(){var t=this.getRotatingLeftNextPoints();return this.isMovingToPointsPossible.apply(this,Object(U.a)(t))}},{key:"moveDown",value:function(){if(this.isMovingDownPossible()){var t=this.getMovingDownNextPoints();this.bricks.forEach((function(e,n){return e.setPoint(t[n])}))}}},{key:"moveRight",value:function(){if(this.isMovingRightPossible()){var t=this.getMovingRightNextPoints();this.bricks.forEach((function(e,n){return e.setPoint(t[n])}))}}},{key:"moveLeft",value:function(){if(this.isMovingLeftPossible()){var t=this.getMovingLeftNextPoints();this.bricks.forEach((function(e,n){return e.setPoint(t[n])}))}}},{key:"rotateRight",value:function(){if(this.isRotatingRightPossible()&&this.type!==D.O){var t=this.getRotatingRightNextPoints();this.bricks.forEach((function(e,n){return e.setPoint(t[n])}))}}},{key:"rotateLeft",value:function(){if(this.isRotatingLeftPossible()&&this.type!==D.O){var t=this.getRotatingLeftNextPoints();this.bricks.forEach((function(e,n){return e.setPoint(t[n])}))}}},{key:"createPoints",value:function(t){return"I"===this.type?[t,{x:t.x-2,y:t.y},{x:t.x-1,y:t.y},{x:t.x+1,y:t.y}]:"J"===this.type?[t,{x:t.x-1,y:t.y+1},{x:t.x-1,y:t.y},{x:t.x+1,y:t.y}]:"L"===this.type?[t,{x:t.x-1,y:t.y},{x:t.x+1,y:t.y},{x:t.x+1,y:t.y+1}]:"O"===this.type?[t,{x:t.x-1,y:t.y+1},{x:t.x,y:t.y+1},{x:t.x-1,y:t.y}]:"S"===this.type?[t,{x:t.x-1,y:t.y},{x:t.x,y:t.y+1},{x:t.x+1,y:t.y+1}]:"T"===this.type?[t,{x:t.x-1,y:t.y},{x:t.x+1,y:t.y},{x:t.x,y:t.y+1}]:[t,{x:t.x-1,y:t.y+1},{x:t.x,y:t.y+1},{x:t.x+1,y:t.y}]}},{key:"isMovingToPointsPossible",value:function(){for(var t=this,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return n.every((function(e){if(t.brickContext.checkIfPointIsOutOfRange(e))return!1;if(!t.brickContext.checkIfBrickAtPoint(e))return!0;var n=t.brickContext.getBrickByPoint(e);return t.bricks.includes(n)}))}},{key:"getMovingDownNextPoints",value:function(){return this.bricks.map((function(t){return{x:t.point.x,y:t.point.y-1}}))}},{key:"getMovingRightNextPoints",value:function(){return this.bricks.map((function(t){return{x:t.point.x+1,y:t.point.y}}))}},{key:"getMovingLeftNextPoints",value:function(){return this.bricks.map((function(t){return{x:t.point.x-1,y:t.point.y}}))}},{key:"getRotatingRightNextPoints",value:function(){var t=this;return this.bricks.map((function(e){return t.getRotatedPoint(t.pivotBrick.point,e.point,-90)}))}},{key:"getRotatingLeftNextPoints",value:function(){var t=this;return this.bricks.map((function(e){return t.getRotatedPoint(t.pivotBrick.point,e.point,90)}))}},{key:"getRotatedPoint",value:function(t,e,n){return{x:Math.round(t.x+Math.cos(n*(Math.PI/180))*(e.x-t.x)-Math.sin(n*(Math.PI/180))*(e.y-t.y)),y:Math.round(t.y+Math.sin(n*(Math.PI/180))*(e.x-t.x)+Math.cos(n*(Math.PI/180))*(e.y-t.y))}}}]),t}(),ot="initial",st="running",ct="paused",at="finished",ut=function(){function t(e){var n,i,r,o;Object(A.a)(this,t),this.state=ot,this.falling=!1,this.numberOfFilledLines=0,this.brickContext=void 0,this.brickHeap=void 0,this.field=void 0,this.tetrominoGenerator=void 0,this.currentTetromino=null,this.interval=new et,this.keyController=new nt,this.pauseDeferred=null,this.onRun=null,this.onPause=null,this.onClearRows=null,this.onFinish=null,this.field=e.field,this.brickContext=e.brickContext,this.brickHeap=e.brickHeap,this.tetrominoGenerator=e.tetrominoGenerator,this.onRun=null!==(n=e.onRun)&&void 0!==n?n:null,this.onPause=null!==(i=e.onPause)&&void 0!==i?i:null,this.onClearRows=null!==(r=e.onClearRows)&&void 0!==r?r:null,this.onFinish=null!==(o=e.onFinish)&&void 0!==o?o:null}return Object(F.a)(t,[{key:"run",value:function(){var t=Object($.a)(Y.a.mark((function t(){var e,n;return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.state!==ct){t.next=4;break}return null===(n=this.onRun)||void 0===n||n.call(this),this.resume(),t.abrupt("return");case 4:if(this.state!==st){t.next=6;break}return t.abrupt("return");case 6:this.state===at&&(this.brickContext.clear(),this.brickHeap.clear(),this.numberOfFilledLines=0,this.draw()),null===(e=this.onRun)||void 0===e||e.call(this),this.start();case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"pause",value:function(){var t;this.state!==ct&&(null===(t=this.onPause)||void 0===t||t.call(this),this.state=ct,this.pauseDeferred=new tt,this.keyController.stopListening(),this.interval.stop())}},{key:"start",value:function(){var t=Object($.a)(Y.a.mark((function t(){var e,n;return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.state=st,this.tetrominoGenerator.create();case 2:return t.next=4,null===(n=this.pauseDeferred)||void 0===n?void 0:n.promise;case 4:return this.currentTetromino=new rt({type:this.tetrominoGenerator.currentData.type,color:this.tetrominoGenerator.currentData.color,brickContext:this.brickContext}),t.next=7,this.runTetrominoFalling();case 7:this.tetrominoGenerator.generateNext();case 8:if(!this.field.isFilled()){t.next=2;break}case 9:this.state=at,null===(e=this.onFinish)||void 0===e||e.call(this);case 11:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"resume",value:function(){var t;this.state===ct&&(this.state=st,null===(t=this.pauseDeferred)||void 0===t||t.resolve(),this.pauseDeferred=null,this.falling&&(this.keyController.startListening(),this.interval.start()))}},{key:"runTetrominoFalling",value:function(){var t=Object($.a)(Y.a.mark((function t(){var e,n,i=this;return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.falling=!0,n=this.currentTetromino,this.interval.setDuration(100===this.numberOfFilledLines?10:1e3-10*this.numberOfFilledLines),t.next=5,Promise.race([new Promise((function(t){i.keyController.setListeners({onArrowUpPress:function(){n.rotateRight(),i.draw()},onArrowDownPress:function(){n.isMovingDownPossible()?(n.moveDown(),i.draw()):t()},onArrowRightPress:function(){n.moveRight(),i.draw()},onArrowLeftPress:function(){n.moveLeft(),i.draw()}}),i.keyController.startListening()})),new Promise((function(t){i.interval.setCallback((function(){n.isMovingDownPossible()?(n.moveDown(),i.draw()):t()})),i.interval.start()}))]);case 5:return this.falling=!1,this.keyController.stopListening(),this.interval.stop(),(e=this.brickHeap).addBricks.apply(e,Object(U.a)(n.bricks)),t.next=11,this.clearRowsIfNeeded();case 11:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"draw",value:function(){var t=this;this.field.cells.forEach((function(e){if(t.brickContext.checkIfBrickAtPoint(e.point)){var n=t.brickContext.getBrickByPoint(e.point);e.changeColor(n.color)}else e.changeColor(y.empty)}))}},{key:"clearRowsIfNeeded",value:function(){var t=Object($.a)(Y.a.mark((function t(){var e,n,i,r,o,s=this;return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==(n=this.brickHeap.getFilledRows().map((function(t){return t.sort((function(t,e){return t.point.x-e.point.x}))}))).length){t.next=3;break}return t.abrupt("return");case 3:this.numberOfFilledLines+=n.length,null===(e=this.onClearRows)||void 0===e||e.call(this,{numberOfRows:n.length}),i=this.brickContext.size.width,r=Y.a.mark((function t(e){var r,o;return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=i-(r=e)-1,n.forEach((function(t){var e=t[r],n=t[o];s.brickContext.removeBricks(e,n),s.brickHeap.removeBricks(e,n)})),s.draw(),t.next=6,new Promise((function(t){return setTimeout(t,100)}));case 6:case"end":return t.stop()}}),t)})),o=i/2-1;case 8:if(!(o>=0)){t.next=13;break}return t.delegateYield(r(o),"t0",10);case 10:o--,t.next=8;break;case 13:this.brickHeap.moveToBottom(),this.draw();case 15:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),t}(),lt=function(){function t(){Object(A.a)(this,t),this._currentData=null,this._nextData=null,Object(S.l)(this,{},{autoBind:!0})}return Object(F.a)(t,[{key:"currentData",get:function(){return this._currentData}},{key:"nextData",get:function(){return this._nextData}},{key:"create",value:function(){this._currentData=this.getRandomData(),this._nextData=this.getRandomData()}},{key:"generateNext",value:function(){this._currentData=this.nextData,this._nextData=this.getRandomData()}},{key:"getRandomData",value:function(){return{color:Object(L.sample)(Object(L.omit)(y,"empty")),type:Object(L.sample)(D)}}}]),t}(),ht=function(){function t(e){Object(A.a)(this,t),this._field=new Q(t.defaultFieldSize),this.brickContext=new Z({size:{width:10,height:20}}),this.brickHeap=new W({brickContext:this.brickContext}),this.tetrominoGenerator=new lt,this.gameScenario=void 0,this.gameScenario=new ut({field:this._field,brickContext:this.brickContext,brickHeap:this.brickHeap,tetrominoGenerator:this.tetrominoGenerator,onRun:null===e||void 0===e?void 0:e.onRun,onPause:null===e||void 0===e?void 0:e.onPause,onClearRows:null===e||void 0===e?void 0:e.onClearRows,onFinish:null===e||void 0===e?void 0:e.onFinish})}return Object(F.a)(t,[{key:"field",get:function(){return this._field}},{key:"nextPieceData",get:function(){return this.tetrominoGenerator.nextData}},{key:"run",value:function(){this.gameScenario.run()}},{key:"pause",value:function(){this.gameScenario.pause()}}]),t}();ht.defaultFieldSize={width:10,height:20};var ft=function(){function t(){var e=this;Object(A.a)(this,t),this.tetris=new ht({onRun:function(){return e._button.setState(z)},onPause:function(){return e._button.setState(G)},onClearRows:function(t){var n=t.numberOfRows;return e._counter.incrementLines(n)},onFinish:function(){return e._button.setState(E)}}),this._button=new H({onClick:function(){e._button.state===z?e.tetris.pause():e.tetris.run()}}),this._counter=new K,Object(S.l)(this,{},{autoBind:!0})}return Object(F.a)(t,[{key:"field",get:function(){return this.tetris.field}},{key:"nextPiece",get:function(){return this.tetris.nextPieceData}},{key:"button",get:function(){return{text:this.buttonText,onClick:this._button.onClick}}},{key:"scores",get:function(){return this._counter.scores}},{key:"lines",get:function(){return this._counter.numberOfLines}},{key:"buttonText",get:function(){return this._button.state===z?"PAUSE":this._button.state===G?"RESUME":"PLAY"}}]),t}(),vt=n(8),bt=n.n(vt),yt=Object(o.a)((function(){var t=Object(s.d)((function(){return new ft}));return Object(c.jsx)(a,{children:Object(c.jsxs)("div",{className:bt.a.main,children:[Object(c.jsx)("div",{className:bt.a.fieldWrap,children:Object(c.jsx)(B,{children:t.field.cells.map((function(t){return Object(c.jsx)(p,{cell:t},"".concat(t.point.x,"-").concat(t.point.y))}))})}),Object(c.jsx)("div",{className:bt.a.center,children:Object(c.jsxs)("div",{className:bt.a.column,children:[Object(c.jsx)("div",{className:bt.a.nextPieceBoxContainer,children:Object(c.jsx)(j,{text:"NEXT PIECE",children:Object(c.jsx)("div",{className:bt.a.nextPieceBoxContainerInner,children:t.nextPiece&&Object(c.jsx)(I,{type:t.nextPiece.type,color:t.nextPiece.color})})})}),Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:bt.a.fieldText,children:"SCORES:"}),Object(c.jsx)("div",{className:bt.a.fieldValue,children:t.scores})]}),Object(c.jsx)("br",{}),Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:bt.a.fieldText,children:"LINES:"}),Object(c.jsx)("div",{className:bt.a.fieldValue,children:t.lines})]}),Object(c.jsx)("div",{className:bt.a.buttonWrap,children:Object(c.jsx)(w,{onClick:t.button.onClick,children:t.button.text})})]})})]})})})),dt=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,35)).then((function(e){var n=e.getCLS,i=e.getFID,r=e.getFCP,o=e.getLCP,s=e.getTTFB;n(t),i(t),r(t),o(t),s(t)}))};r.a.render(Object(c.jsx)(yt,{}),document.getElementById("root")),dt()},8:function(t,e,n){t.exports={main:"Tetris_main__8hQGV",fieldWrap:"Tetris_fieldWrap__1WixQ",center:"Tetris_center__1XFfi",column:"Tetris_column__2w8l9",nextPieceBoxContainer:"Tetris_nextPieceBoxContainer__2FFUZ",nextPieceBoxContainerInner:"Tetris_nextPieceBoxContainerInner__QCvWs",buttonWrap:"Tetris_buttonWrap__RavN5",fieldText:"Tetris_fieldText__3vATx",fieldValue:"Tetris_fieldValue__3DZjK"}}},[[34,1,2]]]);
//# sourceMappingURL=main.0e85bff9.chunk.js.map