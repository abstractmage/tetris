(this.webpackJsonptetris=this.webpackJsonptetris||[]).push([[0],{12:function(t,e,i){t.exports={main:"Cell_main__174gQ",main_color_empty:"Cell_main_color_empty__3tZOJ",innerSquare:"Cell_innerSquare__27-FJ",main_color_purple:"Cell_main_color_purple__MaL1A",outerSquare:"Cell_outerSquare__MFyeX",main_color_green:"Cell_main_color_green__TeaLT",main_color_red:"Cell_main_color_red__35FyK",main_color_yellow:"Cell_main_color_yellow__3Sq6b",main_color_lightBlue:"Cell_main_color_lightBlue__38Z9Q",main_color_orange:"Cell_main_color_orange__jDpdU",main_color_blue:"Cell_main_color_blue__-uZAr"}},13:function(t,e,i){t.exports={main:"Tetromino_main__M2Mlz",main_type_I:"Tetromino_main_type_I__2DM_n",cell:"Tetromino_cell__2wPmy",main_type_J:"Tetromino_main_type_J__V-85O",main_type_L:"Tetromino_main_type_L__2jK0_",main_type_O:"Tetromino_main_type_O__2buKK",main_type_S:"Tetromino_main_type_S__3BRyZ",main_type_T:"Tetromino_main_type_T__1LwSp",main_type_Z:"Tetromino_main_type_Z__37gK8",inner:"Tetromino_inner__G-oVb"}},19:function(t,e,i){t.exports={main:"BoxContainer_main__3zBDO",text:"BoxContainer_text__17ql7",boxContainer:"BoxContainer_boxContainer__3TAR1"}},23:function(t,e,i){t.exports={main:"Cell_main__2h-6X"}},24:function(t,e,i){t.exports={main:"Button_main__2i5Pp"}},25:function(t,e,i){t.exports={main:"Field_main__1mOG4"}},31:function(t,e,i){},35:function(t,e,i){"use strict";i.r(e);i(0);var n=i(15),o=i.n(n),r=i(17),s=i(5),c=(i(31),i(2)),a=function(t){var e=t.children;return Object(c.jsx)(c.Fragment,{children:e})},u=i(23),l=i.n(u),h=function(t){var e=t.children;return Object(c.jsx)("div",{className:l.a.main,children:e})},f=i(10),v=i(16),b=i.n(v),d={empty:"empty",purple:"purple",green:"green",red:"red",yellow:"yellow",lightBlue:"lightBlue",orange:"orange",blue:"blue"},y={color:d.empty},k=i(12),x=i.n(k),p=function(t){var e=Object(f.a)(Object(f.a)({},y),t).color;return Object(c.jsxs)("div",{className:b()(x.a.main,x.a["main_color_".concat(e)]),children:[Object(c.jsx)("div",{className:x.a.innerSquare}),Object(c.jsx)("div",{className:x.a.outerSquare})]})},_=Object(r.a)((function(t){var e=t.cell;return Object(c.jsx)(h,{children:Object(c.jsx)(p,{color:e.color})})})),m=i(19),g=i.n(m),j=function(t){var e=t.text,i=t.children;return Object(c.jsxs)("div",{className:g.a.main,children:[e&&Object(c.jsx)("div",{className:g.a.text,children:e}),Object(c.jsx)("div",{className:g.a.boxContainer,children:i})]})},O=i(24),w=i.n(O),P=function(t){var e=t.children,i=t.onClick;return Object(c.jsx)("div",{className:w.a.main,onClick:i,children:e})},C=i(25),R=i.n(C),L=function(t){var e=t.children;return Object(c.jsx)("div",{className:R.a.main,children:e})},B=i(6),D={I:"I",J:"J",L:"L",O:"O",S:"S",T:"T",Z:"Z"},T={type:D.I,color:d.lightBlue},N=i(13),M=i.n(N),I=function(t){var e=Object(f.a)(Object(f.a)({},T),t),i=e.type,n=e.color;return Object(c.jsx)("div",{className:b()(M.a.main,M.a["main_type_".concat(i)]),children:Object(c.jsx)("div",{className:M.a.inner,children:Object(B.range)(4).map((function(t){return Object(c.jsx)("div",{className:M.a.cell,children:Object(c.jsx)(p,{color:n})},t)}))})})},S=i(3),F=i(4),E=i(1),A="play",z="pause",G="resume",H=function(){function t(e){Object(S.a)(this,t),this._state=A,this.onClick=void 0,Object(E.l)(this,{},{autoBind:!0}),this.onClick=e.onClick}return Object(F.a)(t,[{key:"state",get:function(){return this._state}},{key:"setState",value:function(t){this._state=t}}]),t}(),K=function(){function t(){Object(S.a)(this,t),this._numberOfLines=0,this._scores=0,Object(E.l)(this,{},{autoBind:!0})}return Object(F.a)(t,[{key:"numberOfLines",get:function(){return this._numberOfLines}},{key:"scores",get:function(){return this._scores}},{key:"incrementLines",value:function(t){this._numberOfLines+=t,1===t&&(this._scores+=100),2===t&&(this._scores+=300),3===t&&(this._scores+=700),4===t&&(this._scores+=1500)}},{key:"clear",value:function(){this._numberOfLines=0,this._scores=0}}]),t}(),U=i(7),Z=function(){function t(e){Object(S.a)(this,t),this.bricks=void 0,this.size=void 0,Object(E.l)(this,{},{autoBind:!0}),this.bricks=[],this.size=e.size}return Object(F.a)(t,[{key:"startPoint",get:function(){var t=this.size.width/2;return{x:t===Math.ceil(t)?t:Math.floor(t),y:this.size.height}}},{key:"addBricks",value:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];this.bricks=[].concat(Object(U.a)(this.bricks),e)}},{key:"removeBricks",value:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];this.bricks=this.bricks.filter((function(t){return!e.includes(t)}))}},{key:"clear",value:function(){this.bricks=[]}},{key:"checkIfBrickAtPoint",value:function(t){return!!this.bricks.find((function(e){return e.point.x===t.x&&e.point.y===t.y}))}},{key:"getBrickByPoint",value:function(t){var e=this.bricks.find((function(e){return e.point.x===t.x&&e.point.y===t.y}))||null;if(!e)throw new Error("".concat(this.constructor.name,".getBrickByPoint: no such brick exists"));return e}},{key:"checkIfPointIsOutOfRange",value:function(t){return this.checkIfPointIsOutOfRangeLeft(t)||this.checkIfPointIsOutOfRangeRight(t)||this.checkIfPointIsOutOfRangeBottom(t)}},{key:"checkIfPointIsOutOfRangeLeft",value:function(t){return t.x<0}},{key:"checkIfPointIsOutOfRangeRight",value:function(t){return t.x>this.size.width-1}},{key:"checkIfPointIsOutOfRangeBottom",value:function(t){return t.y<0}}]),t}(),J=i(21),q=function(){function t(e){Object(S.a)(this,t),this.brickContext=void 0,this.bricks=void 0,this.brickContext=e.brickContext,this.bricks=e.bricks}return Object(F.a)(t,[{key:"isMovingDownPossible",value:function(){var t=this;return Object(B.range)(this.brickContext.size.width).map((function(e){return{x:e,y:t.bricks[0].point.y}})).every((function(e){return!t.brickContext.checkIfPointIsOutOfRange({x:e.x,y:e.y-1})&&!t.brickContext.checkIfBrickAtPoint({x:e.x,y:e.y-1})}))}},{key:"moveDown",value:function(){this.isMovingDownPossible()&&this.bricks.forEach((function(t){t.setPoint({x:t.point.x,y:t.point.y-1})}))}}]),t}(),W=function(){function t(e){Object(S.a)(this,t),this.bricks=void 0,this.brickContext=void 0,Object(E.l)(this,{},{autoBind:!0}),this.bricks=[],this.brickContext=e.brickContext}return Object(F.a)(t,[{key:"addBricks",value:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];this.bricks=[].concat(Object(U.a)(this.bricks),e)}},{key:"removeBricks",value:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];this.bricks=this.bricks.filter((function(t){return!e.includes(t)}))}},{key:"clear",value:function(){this.bricks=[]}},{key:"getFilledRows",value:function(){var t=this;if(!this.bricks.length)return[];for(var e=this.bricks.reduce((function(t,e){return t.point.y<e.point.y?e:t})),i=[],n=function(e){var n=t.bricks.filter((function(t){return t.point.y===e}));n.length===t.brickContext.size.width&&i.push(n)},o=0;o<=e.point.y;o++)n(o);return i}},{key:"moveToBottom",value:function(){var t=this;Object(B.values)(Object(B.groupBy)(this.bricks,"point.y")).sort((function(t,e){var i=Object(J.a)(t,1)[0],n=Object(J.a)(e,1)[0];return i.point.y-n.point.y})).map((function(t){return t.sort((function(t,e){return t.point.x-e.point.x}))})).map((function(e){return new q({brickContext:t.brickContext,bricks:e})})).forEach((function(t){for(;t.isMovingDownPossible();)t.moveDown()}))}}]),t}(),V=function(){function t(e){Object(S.a)(this,t),this._point=void 0,this._color=d.empty,Object(E.l)(this,{},{autoBind:!0}),this._point=e.point}return Object(F.a)(t,[{key:"point",get:function(){return this._point}},{key:"color",get:function(){return this._color}},{key:"changeColor",value:function(t){this._color=t}}]),t}(),Q=function(){function t(e){Object(S.a)(this,t),this._cells=void 0,this.size=void 0,Object(E.l)(this,{},{autoBind:!0}),this.size={width:e.width,height:e.height},this._cells=Object(B.range)(e.height).map((function(t){return Object(B.range)(e.width).map((function(e){return new V({point:{x:e,y:t}})}))})).flat()}return Object(F.a)(t,[{key:"cells",get:function(){return this._cells}},{key:"getCellByPoint",value:function(t){var e=this._cells.find((function(e){return e.point.x===t.x&&e.point.y===t.y}));if(!e)throw new Error("".concat(this.constructor.name,": invalid point value provided"));return e}},{key:"isFilled",value:function(){var t=this;return this.cells.filter((function(e){return e.point.y===t.size.height-1})).some((function(t){return t.color!==d.empty}))}}]),t}(),X=i(9),Y=i.n(X),$=i(14),tt=function(){function t(){var e=this;Object(S.a)(this,t),this._resolve=void 0,this._reject=void 0,this._promise=new Promise((function(t,i){e._resolve=t,e._reject=i}))}return Object(F.a)(t,[{key:"promise",get:function(){return this._promise}},{key:"resolve",value:function(t){this._resolve(t)}},{key:"reject",value:function(t){this._reject(t)}}]),t}(),et=function(){function t(){Object(S.a)(this,t),this.callback=null,this.duration=1e3,this.interval=null}return Object(F.a)(t,[{key:"setCallback",value:function(t){this.callback=t}},{key:"setDuration",value:function(t){this.duration=t}},{key:"start",value:function(){var t=this;this.interval=window.setInterval((function(){var e;return null===(e=t.callback)||void 0===e?void 0:e.call(t)}),this.duration)}},{key:"stop",value:function(){this.interval&&clearInterval(this.interval)}}]),t}(),it=i(26),nt=i.n(it),ot=function(){function t(){Object(S.a)(this,t),this.onLeft=null,this.onRight=null,this.onUp=null,this.onDown=null,this.handleKeyPress=this.handleKeyPress.bind(this),this.handleSwipe=this.handleSwipe.bind(this),nt()(document.body)}return Object(F.a)(t,[{key:"setListeners",value:function(t){this.onLeft=t.onLeft,this.onRight=t.onRight,this.onUp=t.onUp,this.onDown=t.onDown}},{key:"startListening",value:function(){this.stopListening(),document.body.addEventListener("keydown",this.handleKeyPress),document.body.addEventListener("swipe",this.handleSwipe)}},{key:"stopListening",value:function(){document.body.removeEventListener("keydown",this.handleKeyPress),document.body.removeEventListener("swipe",this.handleSwipe)}},{key:"handleKeyPress",value:function(t){var e,i,n,o;"ArrowUp"===t.key&&(null===(e=this.onUp)||void 0===e||e.call(this)),"ArrowDown"===t.key&&(null===(i=this.onDown)||void 0===i||i.call(this)),"ArrowLeft"===t.key&&(null===(n=this.onLeft)||void 0===n||n.call(this)),"ArrowRight"===t.key&&(null===(o=this.onRight)||void 0===o||o.call(this))}},{key:"handleSwipe",value:function(t){var e,i,n,o;t.detail.directions.left&&(null===(e=this.onLeft)||void 0===e||e.call(this));t.detail.directions.right&&(null===(i=this.onRight)||void 0===i||i.call(this));t.detail.directions.top&&(null===(n=this.onUp)||void 0===n||n.call(this));t.detail.directions.bottom&&(null===(o=this.onDown)||void 0===o||o.call(this))}}]),t}(),rt=function(){function t(e){Object(S.a)(this,t),this.point=void 0,this.color=void 0,Object(E.l)(this,{},{autoBind:!0}),this.point=e.point,this.color=e.color}return Object(F.a)(t,[{key:"setPoint",value:function(t){this.point=t}}]),t}(),st=function(){function t(e){var i,n=this;Object(S.a)(this,t),this.bricks=void 0,this.type=void 0,this.brickContext=void 0,this.pivotBrick=void 0,Object(E.l)(this,{},{autoBind:!0}),this.type=e.type,this.brickContext=e.brickContext,this.bricks=this.createPoints(this.brickContext.startPoint).map((function(t,i){var o=new rt({point:t,color:e.color});return 0===i&&(n.pivotBrick=o),o})),(i=this.brickContext).addBricks.apply(i,Object(U.a)(this.bricks))}return Object(F.a)(t,[{key:"isMovingDownPossible",value:function(){var t=this.getMovingDownNextPoints();return this.isMovingToPointsPossible.apply(this,Object(U.a)(t))}},{key:"isMovingRightPossible",value:function(){var t=this.getMovingRightNextPoints();return this.isMovingToPointsPossible.apply(this,Object(U.a)(t))}},{key:"isMovingLeftPossible",value:function(){var t=this.getMovingLeftNextPoints();return this.isMovingToPointsPossible.apply(this,Object(U.a)(t))}},{key:"isRotatingRightPossible",value:function(){var t=this.getRotatingRightNextPoints();return this.isMovingToPointsPossible.apply(this,Object(U.a)(t))}},{key:"isRotatingLeftPossible",value:function(){var t=this.getRotatingLeftNextPoints();return this.isMovingToPointsPossible.apply(this,Object(U.a)(t))}},{key:"moveDown",value:function(){if(this.isMovingDownPossible()){var t=this.getMovingDownNextPoints();this.bricks.forEach((function(e,i){return e.setPoint(t[i])}))}}},{key:"moveRight",value:function(){if(this.isMovingRightPossible()){var t=this.getMovingRightNextPoints();this.bricks.forEach((function(e,i){return e.setPoint(t[i])}))}}},{key:"moveLeft",value:function(){if(this.isMovingLeftPossible()){var t=this.getMovingLeftNextPoints();this.bricks.forEach((function(e,i){return e.setPoint(t[i])}))}}},{key:"rotateRight",value:function(){if(this.isRotatingRightPossible()&&this.type!==D.O){var t=this.getRotatingRightNextPoints();this.bricks.forEach((function(e,i){return e.setPoint(t[i])}))}}},{key:"rotateLeft",value:function(){if(this.isRotatingLeftPossible()&&this.type!==D.O){var t=this.getRotatingLeftNextPoints();this.bricks.forEach((function(e,i){return e.setPoint(t[i])}))}}},{key:"createPoints",value:function(t){return"I"===this.type?[t,{x:t.x-2,y:t.y},{x:t.x-1,y:t.y},{x:t.x+1,y:t.y}]:"J"===this.type?[t,{x:t.x-1,y:t.y+1},{x:t.x-1,y:t.y},{x:t.x+1,y:t.y}]:"L"===this.type?[t,{x:t.x-1,y:t.y},{x:t.x+1,y:t.y},{x:t.x+1,y:t.y+1}]:"O"===this.type?[t,{x:t.x-1,y:t.y+1},{x:t.x,y:t.y+1},{x:t.x-1,y:t.y}]:"S"===this.type?[t,{x:t.x-1,y:t.y},{x:t.x,y:t.y+1},{x:t.x+1,y:t.y+1}]:"T"===this.type?[t,{x:t.x-1,y:t.y},{x:t.x+1,y:t.y},{x:t.x,y:t.y+1}]:[t,{x:t.x-1,y:t.y+1},{x:t.x,y:t.y+1},{x:t.x+1,y:t.y}]}},{key:"isMovingToPointsPossible",value:function(){for(var t=this,e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return i.every((function(e){if(t.brickContext.checkIfPointIsOutOfRange(e))return!1;if(!t.brickContext.checkIfBrickAtPoint(e))return!0;var i=t.brickContext.getBrickByPoint(e);return t.bricks.includes(i)}))}},{key:"getMovingDownNextPoints",value:function(){return this.bricks.map((function(t){return{x:t.point.x,y:t.point.y-1}}))}},{key:"getMovingRightNextPoints",value:function(){return this.bricks.map((function(t){return{x:t.point.x+1,y:t.point.y}}))}},{key:"getMovingLeftNextPoints",value:function(){return this.bricks.map((function(t){return{x:t.point.x-1,y:t.point.y}}))}},{key:"getRotatingRightNextPoints",value:function(){var t=this;return this.bricks.map((function(e){return t.getRotatedPoint(t.pivotBrick.point,e.point,-90)}))}},{key:"getRotatingLeftNextPoints",value:function(){var t=this;return this.bricks.map((function(e){return t.getRotatedPoint(t.pivotBrick.point,e.point,90)}))}},{key:"getRotatedPoint",value:function(t,e,i){return{x:Math.round(t.x+Math.cos(i*(Math.PI/180))*(e.x-t.x)-Math.sin(i*(Math.PI/180))*(e.y-t.y)),y:Math.round(t.y+Math.sin(i*(Math.PI/180))*(e.x-t.x)+Math.cos(i*(Math.PI/180))*(e.y-t.y))}}}]),t}(),ct="initial",at="running",ut="paused",lt="finished",ht=function(){function t(e){var i,n,o,r;Object(S.a)(this,t),this.state=ct,this.falling=!1,this.numberOfFilledLines=0,this.brickContext=void 0,this.brickHeap=void 0,this.field=void 0,this.tetrominoGenerator=void 0,this.currentTetromino=null,this.interval=new et,this.keyController=new ot,this.pauseDeferred=null,this.onRun=null,this.onPause=null,this.onClearRows=null,this.onFinish=null,this.field=e.field,this.brickContext=e.brickContext,this.brickHeap=e.brickHeap,this.tetrominoGenerator=e.tetrominoGenerator,this.onRun=null!==(i=e.onRun)&&void 0!==i?i:null,this.onPause=null!==(n=e.onPause)&&void 0!==n?n:null,this.onClearRows=null!==(o=e.onClearRows)&&void 0!==o?o:null,this.onFinish=null!==(r=e.onFinish)&&void 0!==r?r:null}return Object(F.a)(t,[{key:"run",value:function(){var t=Object($.a)(Y.a.mark((function t(){var e,i;return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.state!==ut){t.next=4;break}return null===(i=this.onRun)||void 0===i||i.call(this),this.resume(),t.abrupt("return");case 4:if(this.state!==at){t.next=6;break}return t.abrupt("return");case 6:this.state===lt&&(this.brickContext.clear(),this.brickHeap.clear(),this.numberOfFilledLines=0,this.draw()),null===(e=this.onRun)||void 0===e||e.call(this),this.start();case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"pause",value:function(){var t;this.state!==ut&&(null===(t=this.onPause)||void 0===t||t.call(this),this.state=ut,this.pauseDeferred=new tt,this.keyController.stopListening(),this.interval.stop())}},{key:"start",value:function(){var t=Object($.a)(Y.a.mark((function t(){var e,i;return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.state=at,this.tetrominoGenerator.create();case 2:return t.next=4,null===(i=this.pauseDeferred)||void 0===i?void 0:i.promise;case 4:return this.currentTetromino=new st({type:this.tetrominoGenerator.currentData.type,color:this.tetrominoGenerator.currentData.color,brickContext:this.brickContext}),t.next=7,this.runTetrominoFalling();case 7:this.tetrominoGenerator.generateNext();case 8:if(!this.field.isFilled()){t.next=2;break}case 9:this.state=lt,null===(e=this.onFinish)||void 0===e||e.call(this);case 11:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"resume",value:function(){var t;this.state===ut&&(this.state=at,null===(t=this.pauseDeferred)||void 0===t||t.resolve(),this.pauseDeferred=null,this.falling&&(this.keyController.startListening(),this.interval.start()))}},{key:"runTetrominoFalling",value:function(){var t=Object($.a)(Y.a.mark((function t(){var e,i,n=this;return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.falling=!0,i=this.currentTetromino,this.interval.setDuration(100===this.numberOfFilledLines?10:1e3-10*this.numberOfFilledLines),t.next=5,Promise.race([new Promise((function(t){n.keyController.setListeners({onUp:function(){i.rotateRight(),n.draw()},onDown:function(){i.isMovingDownPossible()?(i.moveDown(),n.draw()):t()},onRight:function(){i.moveRight(),n.draw()},onLeft:function(){i.moveLeft(),n.draw()}}),n.keyController.startListening()})),new Promise((function(t){n.interval.setCallback((function(){i.isMovingDownPossible()?(i.moveDown(),n.draw()):t()})),n.interval.start()}))]);case 5:return this.falling=!1,this.keyController.stopListening(),this.interval.stop(),(e=this.brickHeap).addBricks.apply(e,Object(U.a)(i.bricks)),t.next=11,this.clearRowsIfNeeded();case 11:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"draw",value:function(){var t=this;this.field.cells.forEach((function(e){if(t.brickContext.checkIfBrickAtPoint(e.point)){var i=t.brickContext.getBrickByPoint(e.point);e.changeColor(i.color)}else e.changeColor(d.empty)}))}},{key:"clearRowsIfNeeded",value:function(){var t=Object($.a)(Y.a.mark((function t(){var e,i,n,o,r,s=this;return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==(i=this.brickHeap.getFilledRows().map((function(t){return t.sort((function(t,e){return t.point.x-e.point.x}))}))).length){t.next=3;break}return t.abrupt("return");case 3:this.numberOfFilledLines+=i.length,null===(e=this.onClearRows)||void 0===e||e.call(this,{numberOfRows:i.length}),n=this.brickContext.size.width,o=Y.a.mark((function t(e){var o,r;return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n-(o=e)-1,i.forEach((function(t){var e=t[o],i=t[r];s.brickContext.removeBricks(e,i),s.brickHeap.removeBricks(e,i)})),s.draw(),t.next=6,new Promise((function(t){return setTimeout(t,100)}));case 6:case"end":return t.stop()}}),t)})),r=n/2-1;case 8:if(!(r>=0)){t.next=13;break}return t.delegateYield(o(r),"t0",10);case 10:r--,t.next=8;break;case 13:this.brickHeap.moveToBottom(),this.draw();case 15:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),t}(),ft=function(){function t(){Object(S.a)(this,t),this._currentData=null,this._nextData=null,Object(E.l)(this,{},{autoBind:!0})}return Object(F.a)(t,[{key:"currentData",get:function(){return this._currentData}},{key:"nextData",get:function(){return this._nextData}},{key:"create",value:function(){this._currentData=this.getRandomData(),this._nextData=this.getRandomData()}},{key:"generateNext",value:function(){this._currentData=this.nextData,this._nextData=this.getRandomData()}},{key:"getRandomData",value:function(){return{color:Object(B.sample)(Object(B.omit)(d,"empty")),type:Object(B.sample)(D)}}}]),t}(),vt=function(){function t(e){Object(S.a)(this,t),this._field=new Q(t.defaultFieldSize),this.brickContext=new Z({size:{width:10,height:20}}),this.brickHeap=new W({brickContext:this.brickContext}),this.tetrominoGenerator=new ft,this.gameScenario=void 0,this.gameScenario=new ht({field:this._field,brickContext:this.brickContext,brickHeap:this.brickHeap,tetrominoGenerator:this.tetrominoGenerator,onRun:null===e||void 0===e?void 0:e.onRun,onPause:null===e||void 0===e?void 0:e.onPause,onClearRows:null===e||void 0===e?void 0:e.onClearRows,onFinish:null===e||void 0===e?void 0:e.onFinish})}return Object(F.a)(t,[{key:"field",get:function(){return this._field}},{key:"nextPieceData",get:function(){return this.tetrominoGenerator.nextData}},{key:"run",value:function(){this.gameScenario.run()}},{key:"pause",value:function(){this.gameScenario.pause()}}]),t}();vt.defaultFieldSize={width:10,height:20};var bt=function(){function t(){var e=this;Object(S.a)(this,t),this.tetris=new vt({onRun:function(){return e._button.setState(z)},onPause:function(){return e._button.setState(G)},onClearRows:function(t){var i=t.numberOfRows;return e._counter.incrementLines(i)},onFinish:function(){return e._button.setState(A)}}),this._button=new H({onClick:function(){e._button.state===z?e.tetris.pause():e.tetris.run()}}),this._counter=new K,Object(E.l)(this,{},{autoBind:!0})}return Object(F.a)(t,[{key:"field",get:function(){return this.tetris.field}},{key:"nextPiece",get:function(){return this.tetris.nextPieceData}},{key:"button",get:function(){return{text:this.buttonText,onClick:this._button.onClick}}},{key:"scores",get:function(){return this._counter.scores}},{key:"lines",get:function(){return this._counter.numberOfLines}},{key:"buttonText",get:function(){return this._button.state===z?"PAUSE":this._button.state===G?"RESUME":"PLAY"}}]),t}(),dt=i(8),yt=i.n(dt),kt=Object(r.a)((function(){var t=Object(s.d)((function(){return new bt}));return Object(c.jsx)(a,{children:Object(c.jsxs)("div",{className:yt.a.main,children:[Object(c.jsx)("div",{className:yt.a.fieldWrap,children:Object(c.jsx)(L,{children:t.field.cells.map((function(t){return Object(c.jsx)(_,{cell:t},"".concat(t.point.x,"-").concat(t.point.y))}))})}),Object(c.jsx)("div",{className:yt.a.center,children:Object(c.jsxs)("div",{className:yt.a.column,children:[Object(c.jsx)("div",{className:yt.a.nextPieceBoxContainer,children:Object(c.jsx)(j,{text:"NEXT PIECE",children:Object(c.jsx)("div",{className:yt.a.nextPieceBoxContainerInner,children:t.nextPiece&&Object(c.jsx)(I,{type:t.nextPiece.type,color:t.nextPiece.color})})})}),Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:yt.a.fieldText,children:"SCORES:"}),Object(c.jsx)("div",{className:yt.a.fieldValue,children:t.scores})]}),Object(c.jsx)("br",{}),Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:yt.a.fieldText,children:"LINES:"}),Object(c.jsx)("div",{className:yt.a.fieldValue,children:t.lines})]}),Object(c.jsx)("div",{className:yt.a.buttonWrap,children:Object(c.jsx)(P,{onClick:t.button.onClick,children:t.button.text})})]})})]})})})),xt=function(t){t&&t instanceof Function&&i.e(3).then(i.bind(null,36)).then((function(e){var i=e.getCLS,n=e.getFID,o=e.getFCP,r=e.getLCP,s=e.getTTFB;i(t),n(t),o(t),r(t),s(t)}))};o.a.render(Object(c.jsx)(kt,{}),document.getElementById("root")),xt()},8:function(t,e,i){t.exports={main:"Tetris_main__8hQGV",fieldWrap:"Tetris_fieldWrap__1WixQ",center:"Tetris_center__1XFfi",column:"Tetris_column__2w8l9",nextPieceBoxContainer:"Tetris_nextPieceBoxContainer__2FFUZ",nextPieceBoxContainerInner:"Tetris_nextPieceBoxContainerInner__QCvWs",buttonWrap:"Tetris_buttonWrap__RavN5",fieldText:"Tetris_fieldText__3vATx",fieldValue:"Tetris_fieldValue__3DZjK"}}},[[35,1,2]]]);
//# sourceMappingURL=main.58987480.chunk.js.map